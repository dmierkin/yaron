_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{ODXe:function(e,t,r){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],i=!0,n=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);i=!0);}catch(c){n=!0,a=c}finally{try{i||null==s.return||s.return()}finally{if(n)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,"a",(function(){return n}))},Q2ey:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/book",function(){return r("gKfl")}])},Rk5g:function(e){e.exports=JSON.parse('[{"id":1,"title":"Page title","image":"/images/sample-1.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template1"},[{"id":2,"title":"Page title","image":"/images/sample-2.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021"},{"id":20,"title":"Page title","image":"/images/sample-5.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021"}],{"id":3,"title":"Page title","image":"/images/sample-3.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template3"},{"id":4,"title":"Page title","image":"/images/sample-4.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template4"},{"id":5,"title":"Page title","image":"/images/sample-5.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template5"},{"id":6,"title":"Page title","image":"/images/sample-6.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template6"},{"id":7,"title":"Page title","image":"/images/sample-1.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template1"},{"id":8,"title":"Page title","image":"/images/sample-2.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template2"},{"id":9,"title":"Page title","image":"/images/sample-3.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template3"},{"id":10,"title":"Page title","image":"/images/sample-4.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template4"}]')},S7Fk:function(e,t,r){var i;i=function(e){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,r){"use strict";r.r(t);var i=r("react"),n=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),a=function(){return(a=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},o=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(r,i){t.call(navigator,e,r,i)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var c=function(e){function t(t){var r=e.call(this,t)||this;return r.canvas=null,r.ctx=null,r.unmounted=!1,r.state={hasUserMedia:!1},r}return n(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;s()?e.hasUserMedia||this.requestUserMedia():t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(s()){var r=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),i=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),n=e.minScreenshotWidth!==t.minScreenshotWidth,a=e.minScreenshotHeight!==t.minScreenshotHeight;(i||n||a)&&(this.canvas=null,this.ctx=null),(r||i)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(e){return e.stop()})),e.getAudioTracks().map((function(e){return e.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,r=this.props;if(!t.hasUserMedia)return null;var i=this.getCanvas(e);return i&&i.toDataURL(r.screenshotFormat,r.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,r=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var i=this.video.videoWidth,n=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var a=i/n;n=(i=r.minScreenshotWidth||this.video.clientWidth)/a,r.minScreenshotHeight&&n<r.minScreenshotHeight&&(i=(n=r.minScreenshotHeight)*a)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||i,this.canvas.height=(null===e||void 0===e?void 0:e.height)||n,this.ctx=this.canvas.getContext("2d")}var o=this.ctx,s=this.canvas;return o&&s&&(r.mirrored&&(o.translate(s.width,0),o.scale(-1,1)),o.imageSmoothingEnabled=r.imageSmoothing,o.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||s.width,(null===e||void 0===e?void 0:e.height)||s.height),r.mirrored&&(o.scale(-1,1),o.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,r=this.props,i=function(i,n){var a={video:"undefined"===typeof n||n};r.audio&&(a.audio="undefined"===typeof i||i),navigator.mediaDevices.getUserMedia(a).then((function(r){e.unmounted?t.stopMediaStream(r):e.handleUserMedia(null,r)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)i(r.audioConstraints,r.videoConstraints);else{var n=function(e){return{optional:[{sourceId:e}]}},a=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,o=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(o=e.id)}));var s=a(r.audioConstraints);s&&(t=s);var c=a(r.videoConstraints);c&&(o=c),i(n(t),n(o))}))}},t.prototype.handleUserMedia=function(e,t){var r=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void r.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(i){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}r.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,r=this.props,n=r.audio,s=(r.forceScreenshotSourceSize,r.onUserMedia,r.onUserMediaError,r.screenshotFormat,r.screenshotQuality,r.minScreenshotWidth,r.minScreenshotHeight,r.audioConstraints,r.videoConstraints,r.imageSmoothing,r.mirrored),c=r.style,l=void 0===c?{}:c,u=o(r,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style"]),d=s?a(a({},l),{transform:(l.transform||"")+" scaleX(-1)"}):l;return i.createElement("video",a({autoPlay:!0,src:t.src,muted:n,playsInline:!0,ref:function(t){e.video=t},style:d},u))},t.defaultProps={audio:!0,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(i.Component);t.default=c},react:function(t,r){t.exports=e}}).default},e.exports=i(r("q1tI"))},TSYQ:function(e,t,r){var i;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var a=typeof i;if("string"===a||"number"===a)e.push(i);else if(Array.isArray(i)){if(i.length){var o=n.apply(null,i);o&&e.push(o)}}else if("object"===a)if(i.toString===Object.prototype.toString)for(var s in i)r.call(i,s)&&i[s]&&e.push(s);else e.push(i.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(i=function(){return n}.apply(t,[]))||(e.exports=i)}()},gKfl:function(e,t,r){"use strict";r.r(t);var i=r("nKUr"),n=r("ODXe"),a=r("q1tI"),o=r.n(a),s=r("TSYQ"),c=r.n(s),l=r("b0oO"),u=r("3OMu"),d=r("C/Fq"),p=function(e){var t=e.content,r=e.src,a=e.alt,s=o.a.useState(!1),l=Object(n.a)(s,2),u=l[0],p=l[1];return Object(i.jsxs)("div",{className:c()("image-container",{"image-container_hover":u}),onMouseOver:function(){return p(!0)},onMouseLeave:function(){return p(!1)},children:[Object(i.jsx)("div",{className:"image-container__content",children:Object(d.c)(t).map((function(e){return Object(i.jsx)("span",{children:e},e)}))}),Object(i.jsx)("div",{className:"image-container__image",children:Object(i.jsx)("img",{src:Object(d.a)(r),alt:a})})]})},h=r("Rk5g");var g=function(e,t){var r=Object(a.useRef)();Object(a.useEffect)((function(){r.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){r.current()}),t);return function(){return clearInterval(e)}}}),[t])},m=r("S7Fk"),f=r.n(m),v=function(e){var t=e.className;return Object(i.jsx)("div",{className:c()("camera-container",t),children:Object(i.jsx)("div",{className:"camera-container__camera",children:Object(i.jsx)(f.a,{audio:!1})})})};t.default=function(){var e=o.a.useState(0),t=Object(n.a)(e,2),r=t[0],a=t[1],s=h.length-1,m=h[r];return g((function(){var e=Object(d.b)(r,s);a(e)}),5e3),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l.a,{title:"Book"}),Object(i.jsxs)("nav",{className:"page-navigation",children:[Object(i.jsx)(u.a,{url:"/gallery",className:"page-navigation__navigation",children:Object(i.jsx)("span",{children:"Catalog"})}),Object(i.jsx)(u.a,{url:"/about",className:"page-navigation__navigation",children:Object(i.jsx)("span",{children:"About"})})]}),Object(i.jsx)("div",{className:"page-container page-book",children:Object(i.jsx)("main",{className:"main",children:Array.isArray(m)?Object(i.jsxs)("section",{className:c()("grid-container","template11"),children:[m.map((function(e){return Object(i.jsx)(u.a,{url:"/book/[id]",as:"/book/".concat(e.id),className:"grid-image",children:Object(i.jsx)(p,{src:e.image,content:e.content},e.id)},e.id)})),Object(i.jsx)(v,{className:"grid-camera"})]}):Object(i.jsxs)("section",{className:c()("grid-container",m.template),children:[Object(i.jsx)(u.a,{url:"/book/[id]",as:"/book/".concat(m.id),className:"grid-image",children:Object(i.jsx)(p,{src:m.image,content:m.content},m.image)}),Object(i.jsx)(v,{className:"grid-camera"})]})})})]})}}},[["Q2ey",0,2,1,3]]]);