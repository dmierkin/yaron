_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{"C/Fq":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var n=function(e,t){var r=e+1;return r>t?0:r},i=function(e){return String(e).split(",")}},ODXe:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(c){i=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,"a",(function(){return i}))},Q2ey:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/book",function(){return r("gKfl")}])},Rk5g:function(e){e.exports=JSON.parse('[{"id":1,"title":"Page title","image":"/images/sample-1.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template1"},[{"id":2,"title":"Page title","image":"/images/sample-2.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021"},{"id":20,"title":"Page title","image":"/images/sample-5.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021"}],{"id":3,"title":"Page title","image":"/images/sample-3.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template3"},{"id":4,"title":"Page title","image":"/images/sample-4.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template4"},{"id":5,"title":"Page title","image":"/images/sample-5.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template5"},{"id":6,"title":"Page title","image":"/images/sample-6.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template6"},{"id":7,"title":"Page title","image":"/images/sample-1.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template1"},{"id":8,"title":"Page title","image":"/images/sample-2.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template2"},{"id":9,"title":"Page title","image":"/images/sample-3.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template3"},{"id":10,"title":"Page title","image":"/images/sample-4.jpg","content":"Egreville, MUD volume 3, with Georgia Pendlebury, 72 photographs, March 2021","template":"template4"}]')},S7Fk:function(e,t,r){var n;n=function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,r){"use strict";r.r(t);var n=r("react"),i=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(r,n){t.call(navigator,e,r,n)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var c=function(e){function t(t){var r=e.call(this,t)||this;return r.canvas=null,r.ctx=null,r.unmounted=!1,r.state={hasUserMedia:!1},r}return i(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;s()?e.hasUserMedia||this.requestUserMedia():t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(s()){var r=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),n=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),i=e.minScreenshotWidth!==t.minScreenshotWidth,a=e.minScreenshotHeight!==t.minScreenshotHeight;(n||i||a)&&(this.canvas=null,this.ctx=null),(r||n)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(e){return e.stop()})),e.getAudioTracks().map((function(e){return e.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,r=this.props;if(!t.hasUserMedia)return null;var n=this.getCanvas(e);return n&&n.toDataURL(r.screenshotFormat,r.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,r=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var n=this.video.videoWidth,i=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var a=n/i;i=(n=r.minScreenshotWidth||this.video.clientWidth)/a,r.minScreenshotHeight&&i<r.minScreenshotHeight&&(n=(i=r.minScreenshotHeight)*a)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||n,this.canvas.height=(null===e||void 0===e?void 0:e.height)||i,this.ctx=this.canvas.getContext("2d")}var o=this.ctx,s=this.canvas;return o&&s&&(r.mirrored&&(o.translate(s.width,0),o.scale(-1,1)),o.imageSmoothingEnabled=r.imageSmoothing,o.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||s.width,(null===e||void 0===e?void 0:e.height)||s.height),r.mirrored&&(o.scale(-1,1),o.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,r=this.props,n=function(n,i){var a={video:"undefined"===typeof i||i};r.audio&&(a.audio="undefined"===typeof n||n),navigator.mediaDevices.getUserMedia(a).then((function(r){e.unmounted?t.stopMediaStream(r):e.handleUserMedia(null,r)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)n(r.audioConstraints,r.videoConstraints);else{var i=function(e){return{optional:[{sourceId:e}]}},a=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,o=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(o=e.id)}));var s=a(r.audioConstraints);s&&(t=s);var c=a(r.videoConstraints);c&&(o=c),n(i(t),i(o))}))}},t.prototype.handleUserMedia=function(e,t){var r=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void r.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(n){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}r.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,r=this.props,i=r.audio,s=(r.forceScreenshotSourceSize,r.onUserMedia,r.onUserMediaError,r.screenshotFormat,r.screenshotQuality,r.minScreenshotWidth,r.minScreenshotHeight,r.audioConstraints,r.videoConstraints,r.imageSmoothing,r.mirrored),c=r.style,l=void 0===c?{}:c,u=o(r,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style"]),d=s?a(a({},l),{transform:(l.transform||"")+" scaleX(-1)"}):l;return n.createElement("video",a({autoPlay:!0,src:t.src,muted:i,playsInline:!0,ref:function(t){e.video=t},style:d},u))},t.defaultProps={audio:!0,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(n.Component);t.default=c},react:function(t,r){t.exports=e}}).default},e.exports=n(r("q1tI"))},TSYQ:function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},gKfl:function(e,t,r){"use strict";r.r(t);var n=r("nKUr"),i=r("ODXe"),a=r("q1tI"),o=r.n(a),s=r("TSYQ"),c=r.n(s),l=r("b0oO"),u=r("3OMu"),d=r("C/Fq"),p=function(e){var t=e.content,r=e.src,a=e.alt,s=o.a.useState(!1),l=Object(i.a)(s,2),u=l[0],p=l[1];return Object(n.jsxs)("div",{className:c()("image-container",{"image-container_hover":u}),onMouseOver:function(){return p(!0)},onMouseLeave:function(){return p(!1)},children:[Object(n.jsx)("div",{className:"image-container__content",children:Object(d.b)(t).map((function(e){return Object(n.jsx)("span",{children:e},e)}))}),Object(n.jsx)("div",{className:"image-container__image",children:Object(n.jsx)("img",{src:r,alt:a})})]})},h=r("Rk5g");var g=function(e,t){var r=Object(a.useRef)();Object(a.useEffect)((function(){r.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){r.current()}),t);return function(){return clearInterval(e)}}}),[t])},m=r("S7Fk"),f=r.n(m),v=function(e){var t=e.className;return Object(n.jsx)("div",{className:c()("camera-container",t),children:Object(n.jsx)("div",{className:"camera-container__camera",children:Object(n.jsx)(f.a,{audio:!1})})})};t.default=function(){var e=o.a.useState(0),t=Object(i.a)(e,2),r=t[0],a=t[1],s=h.length-1,m=h[r];return g((function(){var e=Object(d.a)(r,s);a(e)}),5e3),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(l.a,{title:"Book"}),Object(n.jsxs)("nav",{className:"page-navigation",children:[Object(n.jsx)(u.a,{url:"/gallery",className:"page-navigation__navigation",children:Object(n.jsx)("span",{children:"Catalog"})}),Object(n.jsx)(u.a,{url:"/about",className:"page-navigation__navigation",children:Object(n.jsx)("span",{children:"About"})})]}),Object(n.jsx)("div",{className:"page-container page-book",children:Object(n.jsx)("main",{className:"main",children:Array.isArray(m)?Object(n.jsxs)("section",{className:c()("grid-container","template11"),children:[m.map((function(e){return Object(n.jsx)(u.a,{url:"/book/[id]",as:"/book/".concat(e.id),className:"grid-image",children:Object(n.jsx)(p,{src:e.image,content:e.content},e.id)},e.id)})),Object(n.jsx)(v,{className:"grid-camera"})]}):Object(n.jsxs)("section",{className:c()("grid-container",m.template),children:[Object(n.jsx)(u.a,{url:"/book/[id]",as:"/book/".concat(m.id),className:"grid-image",children:Object(n.jsx)(p,{src:m.image,content:m.content},m.image)}),Object(n.jsx)(v,{className:"grid-camera"})]})})})]})}}},[["Q2ey",0,2,1,3]]]);